<div id="articletitle">
  <h2>Programming Snake (Part 1 - Moving a Pixel) [Racket]</h2>
  <p>Published May 24, 2018</p>
</div>
<div id="articlecontent">
  <p>
  The <em>Intro to Computer Science</em> class I’m currently taking is during the summer, which means that a semester is crammed into 6 weeks worth of class. Unfortunately, that means that a lot of the assignments and projects that would normally be done during the class have been cut out in order to fit the time limit. Snake is one of those projects.
  </p>
  <p>In any case, given that I won’t be programming Snake for an assignment, I figure I may as well program it here. So let’s get started.</p>
  <p><img class="center" src="https://i1.wp.com/i.imgur.com/HPQSG2n.png?resize=527%2C276&amp;ssl=1" width="527" height="276"></p>
  <p class="disclaimer"><strong>DISCLAIMER: </strong><em>I am still very much a beginner to programming, so do keep in mind that while my code may work, it may not follow good coding practices or be very efficient. If you would like some help in finding educational resources, check out the /r/learnprogramming subreddit wiki <a href="https://www.reddit.com/r/learnprogramming/wiki/faq" target="_blank">[here]</a>. While I still have your attention, [<a href="https://www.reddit.com/r/learnprogramming/wiki/index#wiki_discouraged_resources" target="_blank">here</a>] is a list of resources discouraged by /r/learnprogramming either due to unreliable or misleading information.</em></p>
  <br />
  <h1>Getting Started</h1>
  <p>So Racket has a <em>big-bang</em> function, which essentially allows me to create a world. In this instance, that world will be the playing field Snake will be slithering around on. If you want to read more about <em>big-bang</em> and the <em>universe</em> library it is a part of, <a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html" target="_blank">you can read more here</a>. According to the textbook, this can be done using BSL+ (Beginner Student Language with Lists), but given that I’m currently using ISL+ (Intermediate Student Language with Lambda), I think I’ll stick with ISL+ for this project.</p>
  <p>First, we’ll need to create a world, that much I’m sure of. In order to do so, we’ll have to import the correct library.</p>
  <blockquote><p>(require 2htdp/universe)</p></blockquote>
  <p>Now, I perhaps might not know as much coding as the next guy, but I’m pretty sure if I try to code this all at once I’m not gonna have a good time. So I’m not doing the whole move Snake, Snake eats food, Snake gets bigger, Snake runs into wall and dies, Snake runs into itself and dies – instead, I’m just going to focus on the first part: moving Snake.</p>
  <br />
  <h2>Moving a Pixel</h2>
  <p>With that in mind, I’ll want to just be able to move an icon around the screen. Given that my focus here is simply to be able to move something around, I’ll go with the most basic of icons, a pixel.</p>
  <p>I definitely want something to represent Snake, so I’m just going to make a structure for him.</p>
  <button type="button" class="collapsible" onclick="toggleCollapsible(this)">A Brief Lesson on Structures</button>
  <div class="collapsiblecontent">
    <p>For those of you who don’t know much or anything about structures, here’s a quick overview on what I know.</p>
    <p>Remember those emergency cards you would get from school that you’d have to get your parents to sign and turn in at the beginning of the year? For those that don’t, here’s what one looks like:</p>
    <p><img src="https://i1.wp.com/ezforms.wchristian.com/AacpsEmergencyNotification-Blank.png?resize=490%2C300" width="490" height="300"></p>
    <p>Imagine a structure being the card itself. With this card (structure), you can extract various bits of information from the card, such as Student Name, Address, Mother’s Name, Father’s Name, to name a few. For a structure, all this information would be the various fields.</p>
    <p>Before I continue this analogy, let’s simplify this card down a bit, since there’s quite a bit of information. Let’s define myCard as a card that only asks for Student Name, Address, and Phone Number (not much of an emergency card, but it’ll do).</p>
    <p>Now, I want to make a structure that represents myCard. In order to do that, I would do:</p>
    <blockquote>
    <p><span style="font-family: open-sans-light;">(define-struct myCard (Name Address Phone))</span></p>
    </blockquote>
    <p>What this does is allow me to create a data type called myCard, which is a structure. Within that structure, I can find information such as Name, Address, and Phone. Now, if I wanted to extract this information, how would I do that? Well, when you create a structure, you actually create functions you may not have realized. After I’ve created this structure myCard, I’ve also created the following functions:</p>
    <ul>
      <li>make-myCard : This is what is called a <strong>constructor</strong>, because it, well,&nbsp;<em>constructs&nbsp;</em>a structure. Once I’ve defined what myCard is (I did that above), I can now do something like this:<br>
        <blockquote>
          <p>(define defCoding (make-myCard “George” “5401 25th Ave NE, Seattle, WA 98105” 2069850000))</p>
        </blockquote>
        <p>Now I’ve&nbsp;<em>constructed</em> a myCard structure named defCoding, which has the attributes as listed (No, that’s not my real name, and no, that’s not my real address).</p></li>
      <li>myCard-Name : This is what is called a&nbsp;<strong>selector</strong>, because it&nbsp;<em>selects</em> an attribute from a structure. So if I do the following code:<br>
        <blockquote>
          <p>(myCard-Name defCoding)</p>
        </blockquote>
        <p>It would return “George”. The amount of selectors created is equal to the amount of fields you’ve set for a structure. So in this instance, three selectors were created: myCard-Name, myCard-Address, and myCard-Phone.</p></li>
      <li>myCard? : This is what is called a&nbsp;<strong>predicate</strong>, which you may have heard of before. What this does is check if a given data type is of the myCard structure type, and if it is, it would return true, while if it isn’t, it would return false. So the following code,<br>
        <blockquote>
          <p>(myCard? defCoding)<br>
          (myCard? “Hello world”)</p>
        </blockquote>
        <p>would return true and false, respectively.</p></li>
    </ul>
    <p><img class="center" src="https://i1.wp.com/i.imgur.com/ngJ4UPT.png?resize=477%2C393&amp;ssl=1" width="477" height="393" data-recalc-dims="1"></p>
    <p>That’s my lesson on structures. There’s a little more I know about them, but for our purposes here, this should suffice. If I run into anything else I haven’t explained about structures, then I’ll explain it then as I work on this code. After all, I have no idea how to code Snake yet. I’m working on it as I write this blog.</p>
  </div>
  <blockquote><p>(define-struct snake (x y))</p></blockquote>
  <p>For the time being, Snake will only have two attributes, an x-position and y-position. I’ll definitely be making more attributes later, such as length and whatnot, but for now, this will suffice.</p>
  <p>Alright, so now I’ll need to place Snake in a world, so I’ll call the&nbsp;<em>big-bang</em> function (and I just realized why it’s called&nbsp;<em>big-bang</em>, because you know, the&nbsp;<em>big-bang</em> theory…). I’ll define <em>main</em> as the function holding&nbsp;<em>big-bang</em>.</p>
  <p><img data-attachment-id="77" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/first-template-main/" data-orig-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Template-Main.png?fit=183%2C68&amp;ssl=1" data-orig-size="183,68" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="First Template Main" data-image-description="" data-medium-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Template-Main.png?fit=183%2C68&amp;ssl=1" data-large-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Template-Main.png?fit=183%2C68&amp;ssl=1" class="alignnone size-full wp-image-77" src="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Template-Main.png?resize=183%2C68&amp;ssl=1" alt="" width="183" height="68"></p>
  <p>Initial represents the state of the world, and in this case, the ever-changing state of the world will be Snake. So Snake is going to be the parameter for&nbsp;<em>main</em> and&nbsp;<em>big-bang</em>.</p>
  <p>To-Draw will allow me to render Snake onto the world so that we can actually see something.</p>
  <p>On-Key will allow me to manipulate Snake’s position based on what keys I press.</p>
  <p>There are some other functions I can use with big-bang, but I’m pretty sure these two are all I need, at least for now.</p>
  <br />
  <p>Let’s work on each individual function now. To start, we’ll go with the render function, which will handle the visual side of things. Since I will be using images here, I’ll need to import the library first:</p>
  <blockquote><p>(require 2htdp/image)</p></blockquote>
  <p>If you want to know more about all the functions that come with the image library, <a href="https://docs.racket-lang.org/teachpack/2htdpimage.html" target="_blank">see here</a>.</p>
  <p>Now for the design recipe (<a href="https://course.ccs.neu.edu/cs5010sp15/recipe.html" target="_blank">which you can learn about here</a>).</p>
  <p><img src="https://i2.wp.com/i.imgur.com/hM2zRB8.png?resize=798%2C71&amp;ssl=1" width="691" height="61"></p>
  <p>This design recipe essentially states that render accepts a <del>Snake data type </del> (This is incorrect. Render actually accepts a world, and then outputs an image. Good to be specific)&nbsp;and outputs an image. I’ve created a wish-list of functions I think I’ll want to use at the bottom. Now to work on a function template, which essentially is the skeleton of my function.</p>
  <p><img data-attachment-id="85" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/first-render-template/" data-orig-file="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-Template.png?fit=273%2C95&amp;ssl=1" data-orig-size="273,95" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="First Render Template" data-image-description="" data-medium-file="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-Template.png?fit=273%2C95&amp;ssl=1" data-large-file="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-Template.png?fit=273%2C95&amp;ssl=1" class="alignnone wp-image-85" src="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-Template.png?resize=204%2C71&amp;ssl=1" alt="" width="204" height="71"></p>
  <p>So the first ellipses will place an image on top of the fourth ellipses at the coordinates given by the second and third ellipses. The first ellipses then, in that case, will represent Snake, and the following two ellipses will illustrate his position, which we can find by using the selector functions on the structure. The final ellipses will simply be a blank canvas, which represents the world Snake is in. With that in mind, we can fill in the template:</p>
  <p><img data-attachment-id="87" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/first-render/" data-orig-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render.png?fit=433%2C93&amp;ssl=1" data-orig-size="433,93" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="First Render" data-image-description="" data-medium-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render.png?fit=300%2C64&amp;ssl=1" data-large-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render.png?fit=433%2C93&amp;ssl=1" class="alignnone size-medium wp-image-87" src="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render.png?resize=300%2C64&amp;ssl=1" alt="" width="300" height="64" srcset="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render.png?resize=300%2C64&amp;ssl=1 300w, https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render.png?w=433&amp;ssl=1 433w" sizes="(max-width: 300px) 100vw, 300px"></p>
  <p>The red circle represents snake, and we’ve used the selectors to properly render his position onto the empty scene of size 100 by 100 pixels.</p>
  <br />
  <p>Alright, I’m excited to see how this&nbsp;<em>render</em> function will do in our&nbsp;<em>big-bang</em> function. Let’s try it!</p>
  <p>But first, we’ll have to actually define a snake with actual values in the fields inside of it:</p>
  <blockquote><p>(define Ted (make-snake 50 50))</p></blockquote>
  <p><img class="center" src="https://i0.wp.com/i.imgur.com/fZjySBT.png?resize=431%2C322&amp;ssl=1" width="431" height="322" data-recalc-dims="1"></p>
  <p>Now that we have Ted, let’s work on our&nbsp;<em>main</em> function.</p>
  <p><img data-attachment-id="88" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/main-with-just-rener/" data-orig-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-just-rener.png?fit=233%2C70&amp;ssl=1" data-orig-size="233,70" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Main with just rener" data-image-description="" data-medium-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-just-rener.png?fit=233%2C70&amp;ssl=1" data-large-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-just-rener.png?fit=233%2C70&amp;ssl=1" class="alignnone wp-image-88" src="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-just-rener.png?resize=199%2C60&amp;ssl=1" alt="" width="199" height="60"></p>
  <p>I’m leaving out the On-Key part because we haven’t created a code for it yet. So what this does right now is apply&nbsp;<em>render</em> to&nbsp;initial, which in this case will be Ted:</p>
  <blockquote><p>(main Ted)</p></blockquote>
  <p><img data-attachment-id="74" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/first-render-50-x-50/" data-orig-file="https://i0.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-50-x-50.png?fit=114%2C137&amp;ssl=1" data-orig-size="114,137" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="First Render 50 x 50" data-image-description="" data-medium-file="https://i0.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-50-x-50.png?fit=114%2C137&amp;ssl=1" data-large-file="https://i0.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-50-x-50.png?fit=114%2C137&amp;ssl=1" class="alignnone size-full wp-image-74" src="https://i0.wp.com/define-coding.com/wp-content/uploads/2018/05/First-Render-50-x-50.png?resize=114%2C137&amp;ssl=1" alt="" width="114" height="137"></p>
  <p>I can’t see anything.</p>
  <p>Damn it. Fine fine, I’ll increase the scene size to something like 500 by 500. And I’ll make Ted bigger.</p>
  <p><img data-attachment-id="75" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/fixing-first-render/" data-orig-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Fixing-First-Render.png?fit=335%2C105&amp;ssl=1" data-orig-size="335,105" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fixing First Render" data-image-description="" data-medium-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Fixing-First-Render.png?fit=300%2C94&amp;ssl=1" data-large-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Fixing-First-Render.png?fit=335%2C105&amp;ssl=1" class="alignnone size-medium wp-image-75" src="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Fixing-First-Render.png?resize=300%2C94&amp;ssl=1" alt="" width="300" height="94" srcset="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Fixing-First-Render.png?resize=300%2C94&amp;ssl=1 300w, https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Fixing-First-Render.png?w=335&amp;ssl=1 335w" sizes="(max-width: 300px) 100vw, 300px"></p>
  <p>Ted is now a square with a side length of 10 pixels, because circles look really weird in regards to playing Snake.</p>
  <p><img data-attachment-id="90" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/second-render-500-x-500/" data-orig-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Second-Render-500-x-500.png?fit=514%2C541&amp;ssl=1" data-orig-size="514,541" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Second Render 500 x 500" data-image-description="" data-medium-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Second-Render-500-x-500.png?fit=285%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Second-Render-500-x-500.png?fit=514%2C541&amp;ssl=1" class="alignnone size-medium wp-image-90" src="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Second-Render-500-x-500.png?resize=285%2C300&amp;ssl=1" alt="" width="285" height="300" srcset="https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Second-Render-500-x-500.png?resize=285%2C300&amp;ssl=1 285w, https://i2.wp.com/define-coding.com/wp-content/uploads/2018/05/Second-Render-500-x-500.png?w=514&amp;ssl=1 514w" sizes="(max-width: 285px) 100vw, 285px"></p>
  <p>Sweet. So we’ve finished representing Ted as a pixel, er.. a 10×10 square. Now to move on to making Ted move.</p>
  <img class="center" src="https://i1.wp.com/i.imgur.com/nTbxkzM.png?resize=578%2C314&amp;ssl=1" width="578" height="314" />
  <p><em>On-Key</em> essentially accepts a user key input, and then outputs a string depending on that input. So for Snake, I think I’ll be using the arrow keys to move Ted around, so the strings we will want to use are “up” “down” “left” and “right”. To influence Ted’s position with these strings, we’ll need a function that accepts the key event and a world, and outputs the new world.</p>
  <p>Design recipe!</p>
  <p>(I actually forgot how to properly do a key event handler, so I had to look it up. The key event handler accepts a world as its parameter and the key as the second parameter.)</p>
  <p><img src="https://i2.wp.com/i.imgur.com/eu5z7EZ.png?resize=666%2C64&amp;ssl=1" width="666" height="64"></p>
  <p>So I know I’ll want to check if the string given by the key is equal to the keys I want, which is necessary for the conditionals I’m going to set. Since I can’t change the structure itself (not that I know of at least), I’ll have to create a new structure. So let’s create the function! I’m too lazy to write out a template, so I’ll just work it out as I go. Don’t be like me.</p>
  <p><em>5 minutes later</em>…</p>
  <p>Alright, I made a change. I’ve added an extra field to the snake structure, sqsize, which represents how big each individual piece of the snake is:</p>
  <blockquote><p>(define-struct snake (x y sqsize))</p></blockquote>
  <p>I was starting to use the original size of Ted as a way to determine how much Ted should move in a certain direction when I realized that I might need to change the size later on. So instead of having to go through all the code and change 10 to whatever number I decide to, I’ve made it easier by just adding another field to snake. So right now, I’ve replaced any occurrence of 10 with (snake-sqsize <em>variable</em>), which so far is only the&nbsp;<em>square</em> function I wrote in&nbsp;<em>render</em>. I also added 10 to the end of make-snake in the Ted definition.</p>
  <br />
  <p>And the code for&nbsp;<em>move</em> is finished:</p>
  <p><img src="https://i0.wp.com/i.imgur.com/YovNssx.png?resize=601%2C152&amp;ssl=1" width="601" height="152"></p>
  <p>The rundown for this function is as follows:</p>
  <p>If a-key, the key that was pressed, is equal to “up”, then a new snake is created where the x-coordinate has not changed (done so by simply doing (snake-x w) and not altering it) and the y-coordinate is decreased by (snake-sqsize w), aka the size of each individual part of Ted. We use decrease here because in DrRacket, (0, 0) is at the top left corner, so moving upwards is actually getting closer to y = 0. The last part is (snake-sqsize w), which is not manipulated because the size of each piece of Ted is not being changed. We need this last part because the structure Snake now has three fields, and all three fields need to be filled.</p>
  <p>If a-key is equal to “down”, then everything stays the same as if “up” were pressed, but instead of decreasing (snake-y w) by (snake-sqsize w), we’re now increasing it.</p>
  <p>If a-key is equal to “left”, then (snake-y w) is left untouched, and (snake-x w) is decreased by (snake-sqsize w).</p>
  <p>If a-key is equal to “right”, then everything stays the same as if “left” were pressed, but (snake-x w) is increased by (snake-sqsize w) instead.</p>
  <p>The else clause is important, because without it, if I were to press a key that isn’t one of the four mentioned above, the program would crash. So else is set to return w, which is where Ted originally was last located, keeping him in the same spot.</p>
  <br />
  <p>Let’s try running (main Ted) now!</p>
  <p><img data-attachment-id="96" data-permalink="https://define-coding.com/2018/05/24/programming-snake-drracket/main-with-render-and-move/" data-orig-file="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-Render-and-Move.png?fit=385%2C152&amp;ssl=1" data-orig-size="385,152" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Main with Render and Move" data-image-description="" data-medium-file="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-Render-and-Move.png?fit=300%2C118&amp;ssl=1" data-large-file="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-Render-and-Move.png?fit=385%2C152&amp;ssl=1" class="alignnone size-medium wp-image-96" src="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-Render-and-Move.png?resize=300%2C118&amp;ssl=1" alt="" width="300" height="118" srcset="https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-Render-and-Move.png?resize=300%2C118&amp;ssl=1 300w, https://i1.wp.com/define-coding.com/wp-content/uploads/2018/05/Main-with-Render-and-Move.png?w=385&amp;ssl=1 385w" sizes="(max-width: 300px) 100vw, 300px"></p>
  <p>And running…</p>
  <p><img src="https://i2.wp.com/i.imgur.com/kSc6xji.gif?resize=508%2C534&amp;ssl=1" width="508" height="534"></p>
  <p>IT’S ALIVEEEEEEEEEEEEEEEEEEEEEEEEEEEE.</p>
  <p><img class="aligncenter" src="https://i1.wp.com/i.imgur.com/IU1rg6J.gif?resize=393%2C350&amp;ssl=1" width="393" height="350" data-recalc-dims="1"></p>
  <p>We’ve still got a lot to work on; for one, Ted should continue moving in one direction when I let go of a key, just like in Snake. And there’s the whole&nbsp;<em>entire rest of the game mechanics</em> part, but I’ll leave that for the next post.</p>
  <br />
  <p>If you want to mess around with the code yourself:</p>
  <p><script src="https://pastebin.com/embed_js/2h29mwpf"></script><style>		div.embedPastebin { text-align:left; padding: 0; color: #000; margin: 0; font-family: monospace; background: #F7F7F7; border: 1px solid ddd; border-radius:3px; }		div.embedPastebin {  }		div.embedPastebin div.embedFooter { background: #F7F7F7; color: #333; font-size: 100%; padding: 6px 12px; border-bottom: 1px solid #ddd; text-transform:uppercase; }		div.embedPastebin div.embedFooter a,		div.embedPastebin div.embedFooter a:visited { color: #336699; text-decoration:none; }		div.embedPastebin div.embedFooter a:hover { color: red; }		.noLines ol { list-style-type: none; padding-left: 0.5em; }		.embedPastebin{background-color:#F8F8F8;border:1px solid #ddd;font-size:12px;overflow:auto;margin: 0 0 0 0;padding:0 0 0 0;line-height:21px}		.embedPastebin div { line-height:21px; font-family:Consolas, Menlo, Monaco, Lucida Console,'Bitstream Vera Sans Mono','Courier',monospace; }		ol { margin:0; padding: 0 0 0 55px}		ol li { border:0; margin:0;padding:0; }		li.ln-xtra .de1, li.ln-xtra .de2 {background:#F8F8CE;}		.embedPastebin ol li.li1 { margin: 0; }		.embedPastebin ol li.li2 { margin: 0; }.racket .de1, .racket .de2 {-moz-user-select: text;-khtml-user-select: text;-webkit-user-select: text;-ms-user-select: text;user-select: text;margin:0; padding: 0 8px; background:none; vertical-align:top;color:#000;border-left: 1px solid #ddd; margin: 0 0 0 -7px; position: relative; background: #ffffff;}.racket  {color:#ACACAC;}.racket .imp {font-weight: bold; color: red;}.racket li, .racket .li1 {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none;user-select: none;}.racket .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}.racket .kw1 {color: blue;}.racket .kw2 {color: rgb(34, 34, 139);}.racket .kw3 {color: blue;}.racket .kw4 {color: rgb(34, 34, 139);}.racket .co1 {color: rgb(194, 116, 31);}.racket .coMULTI {color: rgb(194, 116, 31);}.racket .br0 {color: rgb(132, 60,36);}.racket .sy0 {color: rgb(132, 60,36);}.racket .st0 {color: rgb(34, 139, 34);}.racket .nu0 {color: rgb(34, 139, 34);}.racket .nu1 {color: rgb(34, 139, 34);}.racket .nu2 {color: rgb(34, 139, 34);}.racket .nu3 {color: rgb(34, 139, 34);}.racket .nu4 {color: rgb(34, 139, 34);}.racket .me0 {color: #202020;}.racket .re1 {color: rgb(34, 139, 34);}.racket .re2 {color: rgb(132, 60,36);}.racket .re3 {color: rgb(34, 139, 34);}.racket .ln-xtra, .racket li.ln-xtra, .racket div.ln-xtra {background:#FFFF88;}.racket span.xtra { display:block; }	</style>	</p>
  <div class="embedPastebin">		<div class="embedFooter">Data hosted with ♥ by <a href="https://pastebin.com" target="_blank">Pastebin.com</a> - <a href="https://pastebin.com/raw/2h29mwpf" target="_blank">Download Raw</a> - <a href="https://pastebin.com/2h29mwpf" target="_blank">See Original</a></div><ol class="racket"><li class="li1"><div class="de1">(require 2htdp/universe)</div></li><li class="li1"><div class="de1">(require 2htdp/image)</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">(define-struct snake (x y sqsize))</div></li><li class="li2"><div class="de2">&nbsp;</div></li><li class="li1"><div class="de1">;(define (main initial)</div></li><li class="li1"><div class="de1">; &nbsp;(big-bang initial</div></li><li class="li1"><div class="de1">; &nbsp; &nbsp;[to-draw ...]</div></li><li class="li1"><div class="de1">; &nbsp; &nbsp;[on-key ...]))</div></li><li class="li2"><div class="de2">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">; render: World -&gt; Image</div></li><li class="li1"><div class="de1">; Renders the given World as an image.</div></li><li class="li1"><div class="de1">; (define (render s)</div></li><li class="li2"><div class="de2">; &nbsp; &nbsp;(... place-image ... circle ... empty-scene ... (snake-x s) ... (snake-y s) ...))</div></li><li class="li1"><div class="de1">(define (render s)</div></li><li class="li1"><div class="de1">&nbsp; (place-image (square (snake-sqsize s) "solid" "red")</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(snake-x s) (snake-y s)</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(empty-scene 500 500)))</div></li><li class="li2"><div class="de2">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">; move: World Key -&gt; World</div></li><li class="li1"><div class="de1">; Takes a world and a key and yields the new world.</div></li><li class="li2"><div class="de2">; (define (move w a-key)</div></li><li class="li1"><div class="de1">; &nbsp; &nbsp;(... string=? ... (snake-x s) ... (snake-y s) ... (make-snake) ... w ... a-key ...))</div></li><li class="li1"><div class="de1">(define (move w a-key)</div></li><li class="li1"><div class="de1">&nbsp; (cond</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; [(string=? a-key "up")</div></li><li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp;(make-snake (snake-x w) (- (snake-y w) (snake-sqsize w)) (snake-sqsize w))]</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; [(string=? a-key "down")</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp;(make-snake (snake-x w) (+ (snake-y w) (snake-sqsize w)) (snake-sqsize w))]</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; [(string=? a-key "left")</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp;(make-snake (- (snake-x w) (snake-sqsize w)) (snake-y w) (snake-sqsize w))]</div></li><li class="li2"><div class="de2">&nbsp; &nbsp; [(string=? a-key "right")</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp;(make-snake (+ (snake-x w) (snake-sqsize w)) (snake-y w) (snake-sqsize w))]</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; [else w]))</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">(define Ted (make-snake 250 250 10))</div></li><li class="li2"><div class="de2">&nbsp;</div></li><li class="li1"><div class="de1">(define (main initial)</div></li><li class="li1"><div class="de1">&nbsp; (big-bang initial</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; [to-draw render]</div></li><li class="li1"><div class="de1">&nbsp; &nbsp; [on-key move]))</div></li><li class="li2"><div class="de2">&nbsp;</div></li><li class="li1"><div class="de1">(main Ted)</div></li></ol></div>
</div>
